const _0x2eff67=_0x2911;function _0x8ce0(){const _0xefb47c=['rSoPBgLJAxrHDgLVBNmGqa','AuXprNK','nJy0odC2Bvv5EKrk','C2vHCMnO','yKTdAKm','Dg9tDhjPBMC','C2vUze1LC3nHz2u','tev4weu','nZm4uwHMvNnR','isdWN46j','zMLUze9Uzq','seTOufO','CuvkyNy','mJe3otm4mgLNBhz5wa','lI4VlI4Vrgf0yujHC2uVBgv2zwXZ','uxzZsM4','Bgv2zwW','ngThzfP3AW','mtr3zNLLzMy','q21dz1C','lI4VlI4Vrgf0yujHC2uVzwnVBM9TAwu','mJm4nJy1n1PHAhj5qq','BwvZC2fNzxm','zxHW','C2f2zq','ntaXnJHwC2PvDu4','B3vP','kcGOlISPkYKRksSK','mteWtLjIv1ns','B3zSlxvZzxi','C3bSAxq','Bgv2zwX1Ca','ndu0mtyWuhDezvrq','mty3odi4nunMwuTgBa','A1H3wuW','s2Hwsw4','BMfTzq','u3ncAwK','mtKWnZqZtuTIEKvr','rxjYzxvYigrHBNmGCMfUA0fUzeXLDMvSvxa6','yxbWBhK'];_0x8ce0=function(){return _0xefb47c;};return _0x8ce0();}(function(_0x3966af,_0x74f194){const _0x375caa=_0x2911,_0x1f7cd7=_0x3966af();while(!![]){try{const _0x439565=-parseInt(_0x375caa(0xca))/0x1+parseInt(_0x375caa(0xda))/0x2*(parseInt(_0x375caa(0xc5))/0x3)+parseInt(_0x375caa(0xd9))/0x4*(-parseInt(_0x375caa(0xc0))/0x5)+parseInt(_0x375caa(0xd5))/0x6+-parseInt(_0x375caa(0xb4))/0x7+-parseInt(_0x375caa(0xb8))/0x8*(-parseInt(_0x375caa(0xd0))/0x9)+parseInt(_0x375caa(0xbf))/0xa*(parseInt(_0x375caa(0xbb))/0xb);if(_0x439565===_0x74f194)break;else _0x1f7cd7['push'](_0x1f7cd7['shift']());}catch(_0x189313){_0x1f7cd7['push'](_0x1f7cd7['shift']());}}}(_0x8ce0,0x6a3fb));const _0x482eb1=(function(){let _0x2ed4b0=!![];return function(_0x48e3ac,_0x5b7ba6){const _0x348008=_0x2ed4b0?function(){const _0x24a040=_0x2911;if(_0x5b7ba6){const _0x2b49b0=_0x5b7ba6[_0x24a040(0xc7)](_0x48e3ac,arguments);return _0x5b7ba6=null,_0x2b49b0;}}:function(){};return _0x2ed4b0=![],_0x348008;};}()),_0x4714ce=_0x482eb1(this,function(){const _0x587ed2=_0x2911,_0x5c9492={'LExXE':_0x587ed2(0xba)};return _0x4714ce['toString']()[_0x587ed2(0xcb)](_0x587ed2(0xba))[_0x587ed2(0xcd)]()['constructor'](_0x4714ce)[_0x587ed2(0xcb)](_0x5c9492[_0x587ed2(0xcf)]);});function _0x2911(_0x1cf979,_0x4b1f40){const _0x122242=_0x8ce0();return _0x2911=function(_0x4714ce,_0x482eb1){_0x4714ce=_0x4714ce-0xb3;let _0x8ce0d2=_0x122242[_0x4714ce];if(_0x2911['ifBWQU']===undefined){var _0x291125=function(_0x4cef60){const _0x166877='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x177b38='',_0x5e57b8='',_0x35e71e=_0x177b38+_0x291125;for(let _0x5386da=0x0,_0x55c498,_0x5683e2,_0x5e643e=0x0;_0x5683e2=_0x4cef60['charAt'](_0x5e643e++);~_0x5683e2&&(_0x55c498=_0x5386da%0x4?_0x55c498*0x40+_0x5683e2:_0x5683e2,_0x5386da++%0x4)?_0x177b38+=_0x35e71e['charCodeAt'](_0x5e643e+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x55c498>>(-0x2*_0x5386da&0x6)):_0x5386da:0x0){_0x5683e2=_0x166877['indexOf'](_0x5683e2);}for(let _0x1c0c72=0x0,_0x1ad9fc=_0x177b38['length'];_0x1c0c72<_0x1ad9fc;_0x1c0c72++){_0x5e57b8+='%'+('00'+_0x177b38['charCodeAt'](_0x1c0c72)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5e57b8);};_0x2911['IYpDOH']=_0x291125,_0x1cf979=arguments,_0x2911['ifBWQU']=!![];}const _0x244ad0=_0x122242[0x0],_0x58bf23=_0x4714ce+_0x244ad0,_0x4e74c2=_0x1cf979[_0x58bf23];if(!_0x4e74c2){const _0x2b2032=function(_0x3657cf){this['MbnkVv']=_0x3657cf,this['ZtmWiu']=[0x1,0x0,0x0],this['UDyiRX']=function(){return'newState';},this['fzVQSQ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['OxJsJm']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2b2032['prototype']['loVgWU']=function(){const _0x27a0bb=new RegExp(this['fzVQSQ']+this['OxJsJm']),_0x94351e=_0x27a0bb['test'](this['UDyiRX']['toString']())?--this['ZtmWiu'][0x1]:--this['ZtmWiu'][0x0];return this['oIEWzf'](_0x94351e);},_0x2b2032['prototype']['oIEWzf']=function(_0x103d65){if(!Boolean(~_0x103d65))return _0x103d65;return this['AysLez'](this['MbnkVv']);},_0x2b2032['prototype']['AysLez']=function(_0x20517f){for(let _0x50b753=0x0,_0x8688cf=this['ZtmWiu']['length'];_0x50b753<_0x8688cf;_0x50b753++){this['ZtmWiu']['push'](Math['round'](Math['random']())),_0x8688cf=this['ZtmWiu']['length'];}return _0x20517f(this['ZtmWiu'][0x0]);},new _0x2b2032(_0x2911)['loVgWU'](),_0x8ce0d2=_0x2911['IYpDOH'](_0x8ce0d2),_0x1cf979[_0x58bf23]=_0x8ce0d2;}else _0x8ce0d2=_0x4e74c2;return _0x8ce0d2;},_0x2911(_0x1cf979,_0x4b1f40);}_0x4714ce();const {levels,calculateLevel}=require(_0x2eff67(0xd6)),{Ranks,Levelup}=require('../../DataBase/rank'),{changerPseudo,ajouterUtilisateur,getInfosUtilisateur}=require(_0x2eff67(0xb3));async function rankAndLevelUp(_0x311773,_0x5167ea,_0x2fa3f2,_0x109303,_0x4eded7){const _0x1f6992=_0x2eff67,_0x2178b6={'QvsJn':function(_0x58e195,_0x2eb2fe){return _0x58e195||_0x2eb2fe;},'SsBii':function(_0x4b5b58,_0x1b4866){return _0x4b5b58(_0x1b4866);},'iLOFy':'ovl-user','qEJbv':function(_0x3aeac1,_0x16ac52,_0x5c79bc){return _0x3aeac1(_0x16ac52,_0x5c79bc);},'kXwYL':function(_0x12a3f8,_0x365ff2){return _0x12a3f8||_0x365ff2;},'CmCgW':function(_0x4db435,_0x522f9e){return _0x4db435||_0x522f9e;},'bKCjC':function(_0xdec45f,_0x2616aa){return _0xdec45f(_0x2616aa);},'kwTdX':_0x1f6992(0xb9),'HKhPZ':function(_0xdf545b,_0x2258ff){return _0xdf545b>_0x2258ff;},'KhVIn':_0x1f6992(0xc6)};if(_0x2178b6[_0x1f6992(0xd7)](!_0x2fa3f2,!_0x109303))return;try{const _0x21d687=_0x109303,_0x83ebc0=await _0x2178b6[_0x1f6992(0xc4)](getInfosUtilisateur,_0x21d687);!_0x83ebc0&&await ajouterUtilisateur(_0x21d687,_0x2178b6[_0x1f6992(0xd7)](_0x4eded7,_0x2178b6['iLOFy']));await _0x2178b6[_0x1f6992(0xd4)](changerPseudo,_0x21d687,_0x2178b6[_0x1f6992(0xd7)](_0x4eded7,_0x2178b6['iLOFy']));let _0x2cc793=await Ranks[_0x1f6992(0xd2)]({'where':{'id':_0x21d687}});!_0x2cc793?_0x2cc793=await Ranks['create']({'id':_0x21d687,'name':_0x2178b6[_0x1f6992(0xc1)](_0x4eded7,_0x2178b6[_0x1f6992(0xc9)]),'level':0x0,'exp':0xa,'messages':0x1}):(_0x2cc793[_0x1f6992(0xc3)]=_0x2178b6[_0x1f6992(0xdb)](_0x4eded7,_0x1f6992(0xbc)),_0x2cc793[_0x1f6992(0xb5)]+=0x1,_0x2cc793[_0x1f6992(0xb6)]+=0xa);const _0x207a7d=_0x2178b6[_0x1f6992(0xcc)](calculateLevel,_0x2cc793[_0x1f6992(0xb6)]),_0x5a2ebf=await Levelup[_0x1f6992(0xd2)]({'where':{'id':0x1}}),_0x60ddb7=_0x5a2ebf&&_0x5a2ebf[_0x1f6992(0xbe)]===_0x2178b6['kwTdX'];_0x2178b6[_0x1f6992(0xd3)](_0x207a7d,_0x2cc793['level'])&&_0x60ddb7&&await _0x311773[_0x1f6992(0xce)](_0x5167ea,{'text':_0x1f6992(0xc8)+(_0x21d687||'')[_0x1f6992(0xbd)]('@')[0x0]+'!\x20Vous\x20avez\x20atteint\x20le\x20niveau\x20'+_0x207a7d+_0x1f6992(0xd1),'mentions':[_0x21d687]}),_0x2cc793[_0x1f6992(0xd8)]=_0x207a7d,await _0x2cc793[_0x1f6992(0xb7)]();}catch(_0x15d8d8){console['error'](_0x2178b6[_0x1f6992(0xc2)],_0x15d8d8);}}module['exports']=rankAndLevelUp;
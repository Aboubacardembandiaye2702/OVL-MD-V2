const _0x526a2c=_0x3e1f;(function(_0x5152e0,_0xdae909){const _0x345d29=_0x3e1f,_0x440f66=_0x5152e0();while(!![]){try{const _0x5b8503=-parseInt(_0x345d29(0x1b9))/0x1+parseInt(_0x345d29(0x1da))/0x2*(parseInt(_0x345d29(0x1d1))/0x3)+parseInt(_0x345d29(0x1bd))/0x4+-parseInt(_0x345d29(0x1d9))/0x5+-parseInt(_0x345d29(0x1ca))/0x6+-parseInt(_0x345d29(0x1c8))/0x7*(parseInt(_0x345d29(0x1c4))/0x8)+parseInt(_0x345d29(0x1c1))/0x9;if(_0x5b8503===_0xdae909)break;else _0x440f66['push'](_0x440f66['shift']());}catch(_0x404942){_0x440f66['push'](_0x440f66['shift']());}}}(_0x356a,0x4c6f6));const _0x41017a=(function(){let _0x73b2e9=!![];return function(_0x2a7544,_0x22ff13){const _0x51cfc3=_0x73b2e9?function(){const _0x5b0ac2=_0x3e1f;if(_0x22ff13){const _0x370c32=_0x22ff13[_0x5b0ac2(0x1cd)](_0x2a7544,arguments);return _0x22ff13=null,_0x370c32;}}:function(){};return _0x73b2e9=![],_0x51cfc3;};}()),_0x2d86d8=_0x41017a(this,function(){const _0x1ed6ea=_0x3e1f;return _0x2d86d8[_0x1ed6ea(0x1c3)]()[_0x1ed6ea(0x1c7)](_0x1ed6ea(0x1c5))[_0x1ed6ea(0x1c3)]()['constructor'](_0x2d86d8)[_0x1ed6ea(0x1c7)](_0x1ed6ea(0x1c5));});_0x2d86d8();const {Sequelize,DataTypes}=require(_0x526a2c(0x1d0)),config=require(_0x526a2c(0x1bf)),db=config['DATABASE'];let sequelize;!db?sequelize=new Sequelize({'dialect':_0x526a2c(0x1db),'storage':'./database.db','logging':![]}):sequelize=new Sequelize(db,{'dialect':_0x526a2c(0x1d2),'ssl':!![],'protocol':'postgres','dialectOptions':{'native':!![],'ssl':{'require':!![],'rejectUnauthorized':![]}},'logging':![]});const ECONOMIE=sequelize[_0x526a2c(0x1be)](_0x526a2c(0x1d5),{'id':{'type':DataTypes[_0x526a2c(0x1b6)],'primaryKey':!![]},'pseudo':{'type':DataTypes[_0x526a2c(0x1b6)],'defaultValue':_0x526a2c(0x1d4)},'portefeuille':{'type':DataTypes[_0x526a2c(0x1dd)],'defaultValue':0x0},'banque':{'type':DataTypes[_0x526a2c(0x1dd)],'defaultValue':0x0},'capacite_banque':{'type':DataTypes[_0x526a2c(0x1dd)],'defaultValue':0x2710},'last_bonus':{'type':DataTypes[_0x526a2c(0x1dd)],'defaultValue':0x0}},{'tableName':_0x526a2c(0x1bb),'timestamps':![]});((async()=>{await ECONOMIE['sync']();})());async function ajouterUtilisateur(_0x59feb0,_0x160052='Utilisateur'){const _0x264fe1=_0x526a2c;return await ECONOMIE[_0x264fe1(0x1b4)]({'where':{'id':_0x59feb0},'defaults':{'pseudo':_0x160052,'portefeuille':0x0,'banque':0x0,'capacite_banque':0x3e8,'last_bonus':0x0}});}async function supprimerUtilisateur(_0x369094){const _0x4089ae=_0x526a2c;return await ECONOMIE[_0x4089ae(0x1d7)]({'where':{'id':_0x369094}});}async function getInfosUtilisateur(_0x5abef8){const _0x3db6bd=_0x526a2c,_0x1ed0a9=await ECONOMIE[_0x3db6bd(0x1d8)]({'where':{'id':_0x5abef8}});if(!_0x1ed0a9)return null;return _0x1ed0a9['dataValues'];}async function modifierSolde(_0x35d4eb,_0x10d2e5=_0x526a2c(0x1b7),_0x36f4fa=0x0){const _0x45ae25=_0x526a2c,_0x2f7ad7={'JNApe':_0x45ae25(0x1b7),'PvCQY':'banque','paScj':_0x45ae25(0x1b3),'fdYvx':function(_0x5812b1,_0x1f445b){return _0x5812b1(_0x1f445b);},'xKUVv':function(_0x5dda4f,_0xd6276){return _0x5dda4f<_0xd6276;},'QPpbh':function(_0xe04e8a,_0x5e3be8){return _0xe04e8a-_0x5e3be8;},'YZUmM':function(_0x4c4cf5,_0x171c31){return _0x4c4cf5+_0x171c31;}},_0x28b886=await ECONOMIE[_0x45ae25(0x1d8)]({'where':{'id':_0x35d4eb}});if(!_0x28b886)return null;if(![_0x2f7ad7['JNApe'],_0x2f7ad7[_0x45ae25(0x1bc)]][_0x45ae25(0x1b5)](_0x10d2e5))throw new Error(_0x2f7ad7[_0x45ae25(0x1cf)]);const _0x674246=Number(_0x28b886[_0x10d2e5]),_0x1a546f=Math['abs'](_0x2f7ad7['fdYvx'](Number,_0x36f4fa)),_0xf14366=_0x2f7ad7[_0x45ae25(0x1cc)](_0x36f4fa,0x0)?Math['max'](_0x2f7ad7[_0x45ae25(0x1c6)](_0x674246,_0x1a546f),0x0):_0x2f7ad7[_0x45ae25(0x1de)](_0x674246,_0x1a546f);return _0x28b886[_0x10d2e5]=_0xf14366,await _0x28b886['save'](),{'nouveauSolde':_0xf14366};}async function mettreAJourCapaciteBanque(_0x4dc328,_0x1a6988){const _0x4f4021=_0x526a2c,_0x5c9e53=await ECONOMIE[_0x4f4021(0x1d8)]({'where':{'id':_0x4dc328}});if(!_0x5c9e53)return null;return _0x5c9e53[_0x4f4021(0x1dc)]=_0x1a6988,await _0x5c9e53[_0x4f4021(0x1cb)](),_0x5c9e53[_0x4f4021(0x1dc)];}function _0x3e1f(_0x4a5b6c,_0x41616e){const _0x1d1584=_0x356a();return _0x3e1f=function(_0x2d86d8,_0x41017a){_0x2d86d8=_0x2d86d8-0x1b3;let _0x356ad5=_0x1d1584[_0x2d86d8];if(_0x3e1f['BxLVbR']===undefined){var _0x3e1f4a=function(_0x5f1a48){const _0x2ec9fb='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x41981f='',_0x52adfc='',_0x4986f7=_0x41981f+_0x3e1f4a;for(let _0x346e50=0x0,_0x1f3865,_0x2549ee,_0x45de80=0x0;_0x2549ee=_0x5f1a48['charAt'](_0x45de80++);~_0x2549ee&&(_0x1f3865=_0x346e50%0x4?_0x1f3865*0x40+_0x2549ee:_0x2549ee,_0x346e50++%0x4)?_0x41981f+=_0x4986f7['charCodeAt'](_0x45de80+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x1f3865>>(-0x2*_0x346e50&0x6)):_0x346e50:0x0){_0x2549ee=_0x2ec9fb['indexOf'](_0x2549ee);}for(let _0x58b168=0x0,_0x53bc44=_0x41981f['length'];_0x58b168<_0x53bc44;_0x58b168++){_0x52adfc+='%'+('00'+_0x41981f['charCodeAt'](_0x58b168)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x52adfc);};_0x3e1f['RXSWpF']=_0x3e1f4a,_0x4a5b6c=arguments,_0x3e1f['BxLVbR']=!![];}const _0x52a8da=_0x1d1584[0x0],_0x27c932=_0x2d86d8+_0x52a8da,_0x470671=_0x4a5b6c[_0x27c932];if(!_0x470671){const _0x326cbd=function(_0xde906d){this['rIjnrf']=_0xde906d,this['hdwKfQ']=[0x1,0x0,0x0],this['kcHZRy']=function(){return'newState';},this['YEzWgm']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['AdBDpe']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x326cbd['prototype']['Xkkamr']=function(){const _0x416f08=new RegExp(this['YEzWgm']+this['AdBDpe']),_0x30cd88=_0x416f08['test'](this['kcHZRy']['toString']())?--this['hdwKfQ'][0x1]:--this['hdwKfQ'][0x0];return this['QIGyGw'](_0x30cd88);},_0x326cbd['prototype']['QIGyGw']=function(_0x50bdf2){if(!Boolean(~_0x50bdf2))return _0x50bdf2;return this['rkZiXO'](this['rIjnrf']);},_0x326cbd['prototype']['rkZiXO']=function(_0x2b0115){for(let _0x1a0e97=0x0,_0x185952=this['hdwKfQ']['length'];_0x1a0e97<_0x185952;_0x1a0e97++){this['hdwKfQ']['push'](Math['round'](Math['random']())),_0x185952=this['hdwKfQ']['length'];}return _0x2b0115(this['hdwKfQ'][0x0]);},new _0x326cbd(_0x3e1f)['Xkkamr'](),_0x356ad5=_0x3e1f['RXSWpF'](_0x356ad5),_0x4a5b6c[_0x27c932]=_0x356ad5;}else _0x356ad5=_0x470671;return _0x356ad5;},_0x3e1f(_0x4a5b6c,_0x41616e);}async function changerPseudo(_0x497c76,_0x1cc1c9){const _0x19f23b=_0x526a2c,_0x3975ce=await ECONOMIE[_0x19f23b(0x1d8)]({'where':{'id':_0x497c76}});if(!_0x3975ce)return null;return _0x3975ce[_0x19f23b(0x1ce)]=_0x1cc1c9,await _0x3975ce[_0x19f23b(0x1cb)](),_0x3975ce['pseudo'];}async function resetEconomie(_0x4dac56,_0x21f202={'wallet':![],'banque':![],'capacite':![]}){const _0x52e77c=_0x526a2c,_0x5acbf9=await ECONOMIE[_0x52e77c(0x1d8)]({'where':{'id':_0x4dac56}});if(!_0x5acbf9)return null;if(_0x21f202[_0x52e77c(0x1c9)])_0x5acbf9[_0x52e77c(0x1b7)]=0x0;if(_0x21f202[_0x52e77c(0x1c0)])_0x5acbf9[_0x52e77c(0x1c0)]=0x0;if(_0x21f202[_0x52e77c(0x1d3)])_0x5acbf9['capacite_banque']=0x2710;return await _0x5acbf9[_0x52e77c(0x1cb)](),_0x5acbf9['dataValues'];}function _0x356a(){const _0x1d8345=['Cg9ZDgDYzxm','y2fWywnPDgu','vxrPBgLZyxrLDxi','runptK9nsuu','yvPHue0','zgvZDhjVEq','zMLUze9Uzq','mtq2ntK5meX3t0DIEq','mta3ody4ngfWrKv6DW','C3fSAxrL','y2fWywnPDgvFyMfUCxvL','qKLhsu5u','wvPvBu0','vhLWzsbKzsbZB2XKzsbPBNzHBgLKzs4GvxrPBgLZzsaNCg9YDgvMzxvPBgXLjYbVDsaNyMfUCxvLjY4','zMLUze9Yq3jLyxrL','Aw5JBhvKzxm','u1rssu5h','Cg9YDgvMzxvPBgXL','zxHWB3j0CW','mZm3ntuYDKvcwe9t','zMLUzefSBa','zwnVBM9TAwu','uhzduvK','mty5mty3mND6ANLoBq','zgvMAw5L','lI4VC2v0','yMfUCxvL','mJuZmZiWm0vVqKzYtG','rxjYzxvYigXVCNmGzguGBgeGCSoPy3vWW6LYyxrPB24GzhuGDg9WigjHBNf1zsa6','Dg9tDhjPBMC','mtm2q2TorM1v','kcGOlISPkYKRksSK','uvbWyMG','C2vHCMnO','ndGZmZv1D25cyvm','D2fSBgv0','mta5nta4nejWtfjKvG','C2f2zq','EeTvvNy','yxbWBhK','ChnLDwrV','Cgfty2O','C2vXDwvSAxPL','m2PkDxnhDW'];_0x356a=function(){return _0x1d8345;};return _0x356a();}async function TopBanque(){const _0xd865b9=_0x526a2c,_0x128ba1={'aZaPM':'DESC','ZNOFw':_0xd865b9(0x1b7),'QYumn':_0xd865b9(0x1c0),'AStTU':_0xd865b9(0x1c2)};try{const _0x2ac9a3=await ECONOMIE[_0xd865b9(0x1ba)]({'order':[[_0xd865b9(0x1c0),_0x128ba1[_0xd865b9(0x1d6)]]],'limit':0xa,'attributes':['id',_0x128ba1['ZNOFw'],_0x128ba1['QYumn'],_0xd865b9(0x1d3)]});return _0x2ac9a3['map'](_0x9b6a67=>({'id':_0x9b6a67['id'],'portefeuille':_0x9b6a67[_0xd865b9(0x1b7)],'banque':_0x9b6a67['banque'],'capacite':_0x9b6a67[_0xd865b9(0x1d3)]}));}catch(_0x539f75){return console['error'](_0x128ba1['AStTU'],_0x539f75),[];}}module[_0x526a2c(0x1b8)]={'TopBanque':TopBanque,'ECONOMIE':ECONOMIE,'ajouterUtilisateur':ajouterUtilisateur,'supprimerUtilisateur':supprimerUtilisateur,'getInfosUtilisateur':getInfosUtilisateur,'modifierSolde':modifierSolde,'mettreAJourCapaciteBanque':mettreAJourCapaciteBanque,'changerPseudo':changerPseudo,'resetEconomie':resetEconomie};